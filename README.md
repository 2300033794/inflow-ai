# InfoFlow AI

Enterprise Internal Knowledge Assistant powered by FastAPI, FAISS, and Retrieval Augmented Generation (RAG).

## Overview

InfoFlow AI allows employees to query internal company documents (HR policies, IT guides, PDFs, DOCX, TXT, CSV) and receive accurate, cited answers generated by an LLM.

## Project Structure

```
backend/
  app/
    main.py               # FastAPI application entry point
    core/
      config.py           # Environment configuration
      logging.py          # Logging setup
    api/
      routes/
        chat.py           # POST /chat
        ingest.py         # POST /ingest
        health.py         # GET /health
    services/
      chat_service.py     # Chat orchestration
      ingest_service.py   # Ingestion orchestration
    rag/
      loader.py           # Document loading (PDF, DOCX, TXT, CSV)
      chunker.py          # Text chunking
      embedder.py         # Sentence-transformer embeddings
      vector_store.py     # FAISS vector store
      retriever.py        # Similarity search retrieval
      generator.py        # RAG answer generation (OpenAI)
      ingestion.py        # Ingestion pipeline
    schemas/
      chat_schema.py      # Pydantic request/response models
    utils/
      helpers.py          # Utility functions
  data/                   # Place your documents here
  requirements.txt
  .env.example
  Dockerfile
```

## Quick Start

### 1. Install Dependencies

```bash
cd backend
pip install -r requirements.txt
```

### 2. Configure Environment

```bash
cp .env.example .env
# Edit .env and set your OPENAI_API_KEY
```

### 3. Add Documents

Place your PDF, DOCX, TXT, or CSV files in `backend/data/`.

### 4. Ingest Documents

```bash
cd backend
curl -X POST http://localhost:8000/ingest
```

### 5. Run the Server

```bash
cd backend
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### 6. Test the Chat Endpoint

```bash
curl -X POST http://localhost:8000/chat \
  -H "Content-Type: application/json" \
  -d '{"query": "What is the leave policy?"}'
```

Response:
```json
{
  "answer": "Employees are entitled to 20 days of annual leave...",
  "sources": ["hr_policy.pdf"]
}
```

## API Endpoints

| Method | Path      | Description                        |
|--------|-----------|------------------------------------|
| GET    | /health   | Health check                       |
| POST   | /ingest   | Ingest documents from `data/`      |
| POST   | /chat     | Query the knowledge base           |

## Docker

```bash
cd backend
docker build -t infoflow-ai .
docker run -p 8000:8000 --env OPENAI_API_KEY=your-key infoflow-ai
```

## Tech Stack

- **Backend**: FastAPI + Uvicorn
- **Vector DB**: FAISS (local)
- **Embeddings**: sentence-transformers (`all-MiniLM-L6-v2`)
- **LLM**: OpenAI API (`gpt-3.5-turbo`)
- **File Support**: PDF, DOCX, TXT, CSV